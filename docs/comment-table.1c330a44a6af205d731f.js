/*! For license information please see comment-table.1c330a44a6af205d731f.js.LICENSE.txt */
"use strict";(self.webpackChunknicefish_react=self.webpackChunknicefish_react||[]).push([[457],{79075:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(67294),a=n(28225),o=n(59908),c=n(58650),i=n(99403),l=n(88843),s=n(4269);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,c,i=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(s)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const f=function(e){var t=(0,a.$G)().i18n,n=m((0,r.useState)([]),2),u=n[0],f=n[1],d=m((0,r.useState)(0),2),p=d[0],h=d[1],v=m((0,r.useState)(10),2),y=v[0],b=v[1],g=m((0,r.useState)(1),2),E=g[0],w=g[1],C=m((0,r.useState)(0),2),S=C[0],L=C[1],Z=function(){s.Z.getCommentTable(E).then((function(e){var t,n=e.data;L(n.totalElements),n=(null===(t=n)||void 0===t?void 0:t.content)||[],f(n)}))};return(0,r.useEffect)(Z,[]),r.createElement("div",{className:"comment-table-container"},r.createElement("form",{role:"form"},r.createElement("div",{className:"input-group"},r.createElement("input",{name:"searchStr",className:"form-control",type:"text",placeholder:t.t("content")}),r.createElement("button",{className:"btn btn-success",type:"button"},r.createElement("i",{className:"fa fa-search","aria-hidden":"true"})))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("div",{className:"comment-item-container"},r.createElement(o.w,{showGridlines:!0,stripedRows:!0,tableStyle:{width:"100%"},value:u,rows:y,first:p,paginator:{totalRecords:S,onPageChange:function(e){h(e.first),b(e.rows),w(e.page+1)}}},r.createElement(c.s,{field:"content",header:t.t("content")}),r.createElement(c.s,{field:"nickName",header:t.t("author")}),r.createElement(c.s,{field:"time",header:t.t("date")}),r.createElement(c.s,{field:"",header:t.t("operation"),body:function(e){return r.createElement(r.Fragment,null,r.createElement(i.z,{icon:"pi pi-trash",className:"p-button-danger",onClick:function(){var n;n=e,(0,l.V)({message:t.t("confirmDelete"),header:t.t("confirm"),icon:"pi pi-exclamation-triangle",accept:function(){s.Z.delComment(n.id).then((function(e){niceFishToast({severity:"success",summary:t.t("success"),detail:t.t("success")})}),(function(e){niceFishToast({severity:"error",summary:t.t("error"),detail:t.t("fail")})})).finally(Z)},reject:function(){console.log("reject")}})}}))}}))))))}},4269:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(24065),a=n(96486),o=n(90600),c=o.Z.dataURL.commentListURL,i=o.Z.dataURL.delCommentURL,l=o.Z.dataURL.commentListByPostIdURL,s=o.Z.dataURL.writeCommentURL;const m={getCommentTable:function(e){var t=a.template(c)({page:e});return r.Z.get(t)},delComment:function(e){var t=a.template(i)({id:e});return r.Z.delete(t)},getCommentList:function(e,t){var n=a.template(l)({postId:e,page:t});return r.Z.get(n)},writeComment:function(e){var t=a.template(s)();return r.Z.post(t,e)}}}}]);