/*! For license information please see login.65fcab3272f999185345.js.LICENSE.txt */
"use strict";(self.webpackChunknicefish_react=self.webpackChunknicefish_react||[]).push([[535],{76585:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(67294),r=n(19462),c=n(96974);function o(e){var t={};return e.name?/\w{5,}/.test(e.name)||(t.name="用户名最少为5位"):t.name="用户名为必填",e.pwd?/\w{6,}/.test(e.pwd)||(t.pwd="密码最少为6位"):t.pwd="密码为必填项",t}var l=n(48569),s=n(63709),u=n(8939),i=function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},f=(0,s.G2)(l.Z);const p=function(){(0,s.G2)(u.Z).useHome();var e=(0,c.s0)(),t=(0,a.useState)(""),n=t[0],l=t[1],p=(0,a.useState)(""),d=p[0],m=p[1],w=(0,a.useState)({name:"",pwd:""}),y=w[0],h=w[1],v=(0,a.useState)({}),g=v[0],b=v[1],E=(0,a.useState)({name:{touched:!1,dirty:!1},pwd:{touched:!1,dirty:!1}}),x=E[0],N=E[1],C=(0,a.useState)(!1),O=C[0],j=C[1];function Z(e,t){var n,a;switch(e){case"name":N(i(i({},x),((n={})[e]=i(i({},x[e]),{touched:!0}),n))),b(o(y)),r.Z.toggleClass(t,l,r.Z.fillClass);break;case"pwd":N(i(i({},x),((a={})[e]=i(i({},x[e]),{touched:!0}),a))),b(o(y)),r.Z.toggleClass(t,m,r.Z.fillClass)}}function _(e,t){var n,a,r,c=i(i({},y),((n={})[e]=t,n));switch(e){case"name":N(i(i({},x),((a={})[e]=i(i({},x[e]),{dirty:!0}),a)));break;case"pwd":N(i(i({},x),((r={})[e]=i(i({},x[e]),{dirty:!0}),r)))}h(c),b(o(c))}return(0,a.useEffect)((function(){var e=o(y),t=Object.keys(e).some((function(t){return e[t]}));j(t)}),[g]),a.createElement("div",{className:"container d-flex align-items-center login-container"},a.createElement("div",{className:"card login-panel bg-white"},a.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},a.createElement("span",{className:"bg-red pd-5-10px font-size-24"},"魚")),a.createElement("form",{onSubmit:function(t){return function(t){t.preventDefault(),f.setKeyValue("user",y.name),e("/home")}(t)}},a.createElement("div",{className:"col-12 d-flex  text-white"},a.createElement("span",{className:"inputfiled"},a.createElement("input",{className:"col input-text ".concat(n," ").concat((x.name.touched||x.name.dirty)&&g.name?"error":""),type:"text",autoComplete:"off",value:y.name,onChange:function(e){return _("name",e.target.value)},onBlur:function(e){return Z("name",e.target.value)}}),a.createElement("label",null,"Username"),(x.name.touched||x.name.dirty)&&g.name?a.createElement("div",{className:"text-red"},g.name):null)),a.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},a.createElement("span",{className:"inputfiled"},a.createElement("input",{className:"col input-text ".concat(d," ").concat((x.pwd.touched||x.pwd.dirty)&&g.pwd?"error":""),type:"password",value:y.pwd,autoComplete:"off",onBlur:function(e){Z("pwd",e.target.value)},onChange:function(e){return _("pwd",e.target.value)}}),a.createElement("label",null,"Password"),(x.pwd.touched||x.pwd.dirty)&&g.pwd?a.createElement("div",{className:"text-red"},g.pwd):null)),a.createElement("div",{className:"col-12 text-white ui-fluid"},a.createElement("button",{className:"btn btn-primary col",disabled:O},"登录"),a.createElement("button",{className:"btn btn-primary col mt-16px",onClick:function(){e("/forgot")}},"忘记密码")))))}},8939:(e,t,n)=>{n.d(t,{Z:()=>i});var a,r=n(96974),c=n(67294),o=n(48569),l=n(63709),s=n(3911),u=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return u(t,e),t.prototype.useLogin=function(){return(0,l.G2)(o.Z).getKey("user")},t.prototype.useHome=function(){var e=this.useLogin(),t=(0,r.s0)();(0,c.useEffect)((function(){e&&t("/")}),[])},function(e,t,n,a){var r,c=arguments.length,o=c<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,a);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(o=(c<3?r(o):c>3?r(t,n,o):r(t,n))||o);return c>3&&o&&Object.defineProperty(t,n,o),o}([(0,l.b2)("AccountService")],t)}(s.Z)},19462:(e,t,n)=>{n.d(t,{Z:()=>a});const a={fillClass:"ui-state-filled",toggleClass:function(e,t,n){void 0===n&&(n=""),t(e?n:"")}}}}]);