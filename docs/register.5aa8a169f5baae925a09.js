/*! For license information please see register.5aa8a169f5baae925a09.js.LICENSE.txt */
"use strict";(self.webpackChunknicefish_react=self.webpackChunknicefish_react||[]).push([[685],{27061:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var c=a(67294);function l(e){let t={},a=e.pwd,c=e.cfPwd;return e.email?/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$/.test(e.email)||(t.email="请输入正确的邮箱格式"):t.email="邮箱必须输入",a?/\w{8,}/.test(a)||(t.pwd="密码至少为8位"):t.pwd="请输入密码",c?/\w{8,}/.test(c)?a!==c&&(t.cfPwd="密码不一致"):t.cfPwd="确认密码至少为8位":t.cfPwd="请输入确认密码",t}var s=a(96974),n=a(98008),i=a(33527),r=a(59986);const d=()=>{const e=(0,i.G2)(r.Z);e.useHome();const t=(0,s.s0)(),[a,d]=(0,c.useState)(""),[o,u]=(0,c.useState)(""),[f,m]=(0,c.useState)(""),[p,w]=(0,c.useState)(!1),[g,b]=(0,c.useState)({email:{touched:!1,dirty:!1},pwd:{touched:!1,dirty:!1},cfPwd:{touched:!1,dirty:!1}}),[h,v]=(0,c.useState)({}),[y,E]=(0,c.useState)({email:"",pwd:"",cfPwd:""});function j(e,t){switch(e){case"email":v(l(y)),b(Object.assign(Object.assign({},g),{[e]:{touched:!0}})),n.Z.toggleClass(t,d,n.Z.fillClass);break;case"pwd":v(l(y)),b(Object.assign(Object.assign({},g),{[e]:{touched:!0}})),n.Z.toggleClass(t,u,n.Z.fillClass);break;case"cfPwd":v(l(y)),b(Object.assign(Object.assign({},g),{[e]:{touched:!0}})),n.Z.toggleClass(t,m,n.Z.fillClass)}}function P(e,t){const a=Object.assign(Object.assign({},y),{[e]:t});switch(e){case"email":b(Object.assign(Object.assign({},g),{[e]:{dirty:!0}}));break;case"pwd":b(Object.assign(Object.assign({},g),{[e]:{dirty:!0}}));break;case"cfPwd":b(Object.assign(Object.assign({},g),{[e]:{dirty:!0}}))}E(a),v(l(a))}return(0,c.useEffect)((()=>{const e=l(y),t=Object.keys(e).some((t=>e[t]));w(t)}),[h]),c.createElement("div",{className:"container d-flex align-items-center login-container"},c.createElement("div",{className:"card login-panel bg-white"},c.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},c.createElement("span",{className:"bg-red pd-5-10px font-size-24"},"魚")),c.createElement("form",{onSubmit:a=>function(a){a.preventDefault(),e.storageService.save("user",y.email),t("/home")}(a)},c.createElement("div",{className:"col-12 d-flex  text-white"},c.createElement("span",{className:"inputfiled"},c.createElement("input",{className:`col input-text ${a} ${(g.email.touched||g.email.dirty)&&h.email?"error":""}`,type:"text",autoComplete:"off",value:y.email,onChange:e=>P("email",e.target.value),onBlur:e=>j("email",e.target.value)}),c.createElement("label",null,"Email"),(g.email.touched||g.email.dirty)&&h.email?c.createElement("div",{className:"text-red"},h.email):null)),c.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},c.createElement("span",{className:"inputfiled"},c.createElement("input",{className:`col input-text ${o} ${(g.pwd.touched||g.pwd.dirty)&&h.pwd?"error":""}`,type:"password",value:y.pwd,autoComplete:"off",onBlur:e=>{j("pwd",e.target.value)},onChange:e=>P("pwd",e.target.value)}),c.createElement("label",null,"Password"),(g.pwd.touched||g.pwd.dirty)&&h.pwd?c.createElement("div",{className:"text-red"},h.pwd):null)),c.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},c.createElement("span",{className:"inputfiled"},c.createElement("input",{className:`col input-text ${f} ${(g.cfPwd.touched||g.cfPwd.dirty)&&h.cfPwd?"error":""}`,type:"password",value:y.cfPwd,autoComplete:"off",onBlur:e=>{j("cfPwd",e.target.value)},onChange:e=>P("cfPwd",e.target.value)}),c.createElement("label",null,"Confirm Password"),(g.cfPwd.touched||g.cfPwd.dirty)&&h.cfPwd?c.createElement("div",{className:"text-red"},h.cfPwd):null)),c.createElement("div",{className:"col-12 d-flex justify-content-center  text-white ui-fluid"},c.createElement("button",{className:"btn btn-primary col",disabled:p},"注册")))))}},59986:(e,t,a)=>{a.d(t,{Z:()=>u});var c,l=a(96974),s=a(67294),n=a(42868),i=a(33527),r=a(20951),d=function(e,t,a,c){var l,s=arguments.length,n=s<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,a):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,a,c);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(n=(s<3?l(n):s>3?l(t,a,n):l(t,a))||n);return s>3&&n&&Object.defineProperty(t,a,n),n};let o=class extends r.Z{useLogin(){return this.storageService.read("user")}useHome(){const e=this.useLogin(),t=(0,l.s0)();(0,s.useEffect)((()=>{e&&t("/")}),[])}};d([(0,i.f3)(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type","function"==typeof(c=void 0!==n.Z&&n.Z)?c:Object)],o.prototype,"storageService",void 0),o=d([(0,i.b2)("AccountService")],o);const u=o},98008:(e,t,a)=>{a.d(t,{Z:()=>c});const c={fillClass:"ui-state-filled",toggleClass:(e,t,a="")=>{t(e?a:"")}}}}]);