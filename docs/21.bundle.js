/*! Copyright By yanyunchangfeng */
(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1295:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(75);function r(e){var t={};return e.name||(t.name="角色名称为必填项"),t}var l=a(560),o=function(){return(o=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)};t.default=Object(c.k)(function(e){var t=Object(n.useState)({name:"",permission:[]}),a=t[0],c=t[1],s=Object(n.useState)(!1),m=s[0],i=s[1],u=Object(n.useState)({}),d=u[0],f=u[1],b=Object(n.useState)({name:{touched:!1,dirty:!1},pwd:{touched:!1,dirty:!1}}),p=b[0],v=b[1],h=Object(n.useState)([]),y=h[0],E=h[1],N=Object(n.useState)([]),g=N[0],O=N[1];function j(e,t){var n;if(Array.isArray(e)){O(e);var l=o({},a,{permission:e});c(l)}else l=o({},a,{name:t}),v(o({},p,((n={})[e]=o({},p[e],{dirty:!0}),n))),c(l),f(r(l))}return Object(n.useEffect)(function(){var e=r(a),t=Object.keys(e).some(function(t){return e[t]});i(t)},[d]),Object(n.useEffect)(function(){var e,t;e=[],t=[],(e=[{key:"1",title:"发表文章",chosen:!0},{key:"2",title:"删除文章",chosen:!1},{key:"3",title:"创建用户",chosen:!0},{key:"4",title:"删除用户",chosen:!1}]).map(function(e){e.chosen&&t.push(e.key)}),c(o({},a,{permission:t})),O(t.slice()),E(e.slice())},[]),n.createElement("div",{className:"role-edit-container font-size-16"},n.createElement("div",{className:"card "},n.createElement("div",{className:"card-header"},n.createElement("h3",{className:"font-size-16 m-0"},"编辑角色")),n.createElement("div",{className:"pd-10px "},n.createElement("form",{onSubmit:function(e){console.log(a),e.preventDefault()}},n.createElement("div",{className:"form-group row"},n.createElement("label",{className:"col-md-2 md-text-align-right col-form-label"},"名称："),n.createElement("div",{className:"col-md-10"},n.createElement("input",{name:"roleName",type:"text",value:a.name,className:"form-control",onBlur:function(e){return function(e,t){var n;switch(e){case"name":v(o({},p,((n={})[e]=o({},p[e],{touched:!0}),n))),f(r(a))}}("name",e.target.value)},onChange:function(e){return j("name",e.target.value)},placeholder:"请输入名称"}),(p.name.touched||p.name.dirty)&&d.name?n.createElement("div",{className:"text-red"},d.name):"")),n.createElement("div",{className:"form-group row"},n.createElement("label",{className:"col-md-2 md-text-align-right col-form-label"},"权限："),n.createElement("div",{className:"col-md-10"},n.createElement(l.a,{dataSource:y,targetKeys:g,onChange:j,render:function(e){return e.title}}))),n.createElement("div",{className:"form-group"},n.createElement("div",{className:"col-md-offset-2 col-md-10"},n.createElement("button",{className:"btn btn-primary btn-margin-1rem",disabled:m},"保存"),n.createElement("button",{type:"button",className:"btn btn-secondary ml-16px",onClick:function(){e.history.goBack()}},"取消")))))))})}}]);