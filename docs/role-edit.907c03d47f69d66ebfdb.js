/*! For license information please see role-edit.907c03d47f69d66ebfdb.js.LICENSE.txt */
"use strict";(self.webpackChunknicefish_react=self.webpackChunknicefish_react||[]).push([[402],{53880:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(67294),l=n(59908),o=n(26821),a=n(58650),i=n(89250),c=n(58126),u=n(51814),s=n(56168);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o,a,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,l=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw l}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const b=function(e){var t=(0,i.s0)(),n=(0,i.UO)().roleId,d=g((0,r.useState)([]),2),p=d[0],y=d[1],b=g((0,r.useState)([]),2),v=b[0],h=b[1],C=g((0,r.useState)(!0),2),E=C[0],S=(C[1],g((0,r.useState)([]),2)),w=S[0],x=S[1],k=g((0,r.useState)([]),2),R=k[0],P=k[1],O=g((0,r.useState)({roleId:n,roleName:"",status:1,remark:""}),2),N=O[0],M=O[1],I=g((0,r.useState)(!0),2),T=I[0],L=I[1],D=g((0,r.useState)({roleName:{valid:!0,ruleName:"",message:""},remark:{valid:!0,ruleName:"",message:""}}),2),K=D[0],U=D[1],A={roleName:[{ruleName:"required",message:"请输入角色名称",fn:function(e){return(e+"").trim().length>0}},{ruleName:"maxLength",message:"角色名称最多 32 位",fn:function(e){return(e+"").trim().length<=32}},{ruleName:"minLength",message:"角色名称最少 2 位",fn:function(e){return(e+"").trim().length>=2}}],remark:[{ruleName:"maxLength",message:"备注最多 200 个字符",fn:function(e){return(e+"").trim().length<=200}},{ruleName:"minLength",message:"备注最少 2 个字符",fn:function(e){return(e+"").trim().length>=2}}]},F=function(e,t){if(A[e]){var n=f(f({},K),m({},e,{valid:!0,ruleName:"",message:""}));if(0===t.length){var r=!1;if(A[e].forEach((function(e){"required"===e.ruleName&&(r=!0)})),!r)return}A[e].forEach((function(r){r.fn(t)||(n[e].valid=!1,n[e].ruleName=r.ruleName,n[e].message=r.message)})),U(n)}},j=function(e,t){F(e,t),M(f(f({},N),{},m({},e,t)))},z=[{field:"componentName",header:"组件名称",expander:!0},{field:"url",header:"URL"},{field:"displayOrder",header:"显示顺序"},{field:"permission",header:"权限通配符"},{field:"visiable",header:"是否可见"}],G=function e(t){var n={};return z.forEach((function(e){n[e.field]=t[e.field]})),n.compPermId=t.compPermId,t.key=t.compPermId,t.data=n,t.expanded=!0,t.children&&t.children.forEach((function(t){e(t)})),t},Z=function(){s.Z.getCompPermTable(1,"").then((function(e){e.data.content.forEach((function(e){G(e)})),x(e.data.content)}))};return(0,r.useEffect)((function(){c.Z.getRoleInfo(n).then((function(e){var t=e.data;M(t)}),(function(e){return console.error(e)})),u.Z.getApiPermissionListAll().then((function(e){var t=e.data;y(t)})),u.Z.getApiPermissionListAllByRole({roleId:n}).then((function(e){h(e.data)})),Z(),s.Z.getCompPermListByRoleId({roleId:n}).then((function(e){if(null!=e&&e.data&&null!=e&&e.data.length){var t={};e.data.forEach((function(e){t[e.compPermId]={checked:!0}})),P(t)}}))}),[]),r.createElement("div",{className:"role-edit-container"},r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},"创建/编辑角色")),r.createElement("div",{className:"panel-body"},r.createElement("form",{noValidate:!0,className:"form-horizontal",role:"form"},r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-md-2 control-label"},"角色名称："),r.createElement("div",{className:"col-md-10"},r.createElement("input",{type:"text",className:"form-control",placeholder:"请输入角色名称",name:"roleName",value:N.roleName,onChange:function(e){return j(e.target.name,e.target.value)},onBlur:function(e){return F(e.target.name,e.target.value)}}))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-md-2 control-label"},"是否启用："),r.createElement("div",{className:"col-md-10"},r.createElement("div",{className:"checkbox"},r.createElement("label",null,r.createElement("input",{name:"status",type:"checkbox",checked:1===N.status,onChange:function(e){var t=e.target.checked?1:0;j(e.target.name,t)}}))))),r.createElement("div",{className:"form-group"},r.createElement("label",{className:"col-md-2 control-label"},"备注："),r.createElement("div",{className:"col-md-10"},r.createElement("textarea",{rows:"5",type:"text",className:"form-control",placeholder:"备注",name:"remark",value:N.remark,onChange:function(e){return j(e.target.name,e.target.value)},onBlur:function(e){return F(e.target.name,e.target.value)}})))))),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},"后端接口权限")),r.createElement("div",{className:"panel-body"},r.createElement(l.w,{value:p,showGridlines:!0,stripedRows:!0,tableStyle:{width:"100%"},selectionMode:E?null:"checkbox",selection:v,onSelectionChange:function(e){h(e.value)}},r.createElement(a.s,{selectionMode:"multiple",headerStyle:{width:"3rem"}}),r.createElement(a.s,{field:"apiName",header:"API 名称"}),r.createElement(a.s,{field:"url",header:"URL"}),r.createElement(a.s,{field:"permission",header:"权限通配符"}),r.createElement(a.s,{field:"remark",header:"备注",style:{maxWidth:"120px"}}),r.createElement(a.s,{field:"roleEntities",body:function(e){var t;return null==e||null===(t=e.roleEntities)||void 0===t?void 0:t.map((function(e){return r.createElement("h5",{key:e.roleId},r.createElement("span",{className:"label label-success"},e.roleName))}))},header:"已关联角色"})))),r.createElement("div",{className:"panel panel-default"},r.createElement("div",{className:"panel-heading"},r.createElement("h3",{className:"panel-title"},"前端页面权限")),r.createElement("div",{className:"panel-body"},r.createElement(o.i,{tableStyle:{minWidth:"100"},value:w,selectionMode:"checkbox",selectionKeys:R,onSelectionChange:function(e){P(e.value)}},z.map((function(e,t){return r.createElement(a.s,{key:t,field:e.field,header:e.header,expander:e.expander})}))))),r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-12"},r.createElement("button",{type:"button",className:"btn btn-success btn-margin-1rem",onClick:function(e){if(e.preventDefault(),function(){var e=!0;for(var t in N)if(document.getElementsByName(t).length){var n=document.getElementsByName(t)[0].value;F(t,n)}for(var r in K)K[r].valid||(e=!1);L(e)}(),T){delete N.apiEntities,delete N.componentEntities;var t=[];v.forEach((function(e){t.push({apiPermissionId:e.apiPermissionId})}));var r=[];for(var l in R)r.push({compPermId:parseInt(l)});N.apiEntities=t,N.componentEntities=r,"-1"==n?c.Z.newRole(N).then((function(e){var t;null!=e&&null!==(t=e.data)&&void 0!==t&&t.success?(niceFishToast({severity:"success",summary:"成功",detail:"新增角色成功"}),window.history.back()):niceFishToast({severity:"error",summary:"失败",detail:"新增角色失败"})}),(function(e){niceFishToast({severity:"error",summary:"失败",detail:"新增角色失败"}),console.error(e)})):c.Z.updateRole(N).then((function(e){var t;null!=e&&null!==(t=e.data)&&void 0!==t&&t.success?(niceFishToast({severity:"success",summary:"成功",detail:"更新角色成功"}),window.history.back()):niceFishToast({severity:"error",summary:"失败",detail:"更新角色失败"})}),(function(e){niceFishToast({severity:"error",summary:"失败",detail:"更新角色失败"}),console.error(e)}))}else niceFishToast({severity:"error",summary:"Error",detail:"存在不合法的输入项，请检查"})}},"保存"),r.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){t(-1)}},"取消"))))}},51814:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(24065),l=n(96486),o=n(90600),a=o.Z.dataURL.apiPermissionTableURL,i=o.Z.dataURL.apiPermissionListAll,c=o.Z.dataURL.apiPermissionListAllByRole,u=o.Z.dataURL.apiPermissionDetailURL,s=o.Z.dataURL.delApiPermissionURL,d=o.Z.dataURL.newApiPermissionURL,p=o.Z.dataURL.updateApiPermissionURL,f=o.Z.dataURL.apiRoleListURL;const m={getApiPermissionTable:function(e,t){var n=l.template(a)({page:e});return r.Z.post(n,{apiName:t})},getApiPermissionListAll:function(){var e=l.template(i)();return r.Z.post(e,{})},getApiPermissionListAllByRole:function(e){var t=l.template(c)();return r.Z.post(t,e)},getRolesByApiId:function(e){var t=l.template(f)({id:e});return r.Z.get(t)},getApiPermDetails:function(e){var t=l.template(u)({id:e});return r.Z.get(t)},deleteByApiId:function(e){var t=l.template(s)({id:e});return r.Z.delete(t)},newApiPermission:function(e){return r.Z.post(d,e)},updateApiPermission:function(e){return r.Z.post(p,e)}}},56168:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(24065),l=n(96486),o=n(90600),a=o.Z.dataURL.compPermListURL,i=o.Z.dataURL.compPermDetailURL,c=o.Z.dataURL.compPermissionListAllByRole,u=o.Z.dataURL.delCompPermURL,s=o.Z.dataURL.newCompPermURL,d=o.Z.dataURL.updateCompPermURL,p=o.Z.dataURL.compRoleListURL;const f={getCompPermTable:function(e,t){var n=l.template(a)({page:e});return r.Z.post(n,{componentName:t})},getCompPermListByRoleId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.template(c)();return r.Z.post(t,e)},getRolesByCompId:function(e){var t=l.template(p)({id:e});return r.Z.get(t)},getCompPermDetails:function(e){var t=l.template(i)({id:e});return r.Z.get(t)},deleteByCompPermId:function(e){var t=l.template(u)({id:e});return r.Z.delete(t)},newCompPerm:function(e){return r.Z.post(s,e)},updateCompPerm:function(e){return r.Z.post(d,e)}}},58126:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(24065),l=n(96486),o=n(90600),a=o.Z.dataURL.roleTableURL,i=o.Z.dataURL.roleListByUserIdURL,c=o.Z.dataURL.delRoleURL,u=o.Z.dataURL.newRoleURL,s=o.Z.dataURL.updateRoleURL,d=o.Z.dataURL.roleDetailURL,p=o.Z.dataURL.updateUserRoleRelationURL;const f={getRoleTable:function(e,t){var n=l.template(a)({page:e});return r.Z.post(n,{roleName:t})},getRoleListAllByUserId:function(e){var t=l.template(i)({userId:e});return r.Z.get(t)},saveUserRoleRelation:function(e,t){return r.Z.post(p,{userId:e,roleEntities:t})},getRoleInfo:function(e){var t=l.template(d)({id:e});return r.Z.get(t)},newRole:function(e){return r.Z.post(u,e)},updateRole:function(e){return r.Z.post(s,e)},deleteRole:function(e){var t=l.template(c)({id:e});return r.Z.delete(t)}}},26821:(e,t,n)=>{n.d(t,{i:()=>Q});var r=n(67294),l=n(66367),o=n(23652),a=n(13643),i=n(13308),c=n(73843),u=n(77807),s=n(95807),d=n(84457),p=n(69868),f=n(50519),m=n(92285),g=n(25508),y=n(59513),b=n(4320);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v.apply(this,arguments)}var h=r.memo(r.forwardRef((function(e,t){var n=b.A.getPTI(e);return r.createElement("svg",v({ref:t,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),r.createElement("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"}))})));h.displayName="MinusIcon";var C=n(92533),E=n(57074),S=n(3558),w=n(2221),x=n(92386);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===R(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function M(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,l,o,a,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,l=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw l}}return i}}(e,t)||N(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=o.V.extend({defaultProps:{__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:null,rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null,children:void 0},getCProp:function(e,t){return a.gb.getComponentProp(e,t,T.defaultProps)},getCProps:function(e){return a.gb.getComponentProps(e,T.defaultProps)},getCOtherProps:function(e){return a.gb.getComponentDiffProps(e,T.defaultProps)}}),L=o.V.extend({defaultProps:{__TYPE:"TreeTable",alwaysShowPaginator:!0,checkboxIcon:null,className:null,columnResizeMode:"fit",contextMenuSelectionKey:null,currentPageReportTemplate:"({currentPage} of {totalPages})",defaultSortOrder:1,emptyMessage:null,expandedKeys:null,filterDelay:300,filterLocale:void 0,filterMode:"lenient",filters:null,first:null,footer:null,footerColumnGroup:null,frozenFooterColumnGroup:null,frozenHeaderColumnGroup:null,frozenWidth:null,globalFilter:null,globalFilterMatchMode:l.a6.CONTAINS,header:null,headerColumnGroup:null,id:null,lazy:!1,loading:!1,loadingIcon:null,metaKeySelection:!0,multiSortMeta:null,onColReorder:null,onCollapse:null,onColumnResizeEnd:null,onContextMenu:null,onContextMenuSelectionChange:null,onExpand:null,onFilter:null,onPage:null,onRowClick:null,onRowMouseEnter:null,onRowMouseLeave:null,onSelect:null,onSelectionChange:null,onSort:null,onToggle:null,onUnselect:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",propagateSelectionDown:!0,propagateSelectionUp:!0,removableSort:!1,reorderableColumns:!1,reorderIndicatorDownIcon:null,reorderIndicatorUpIcon:null,resizableColumns:!1,rowClassName:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollHeight:null,scrollable:!1,selectOnEdit:!0,selectionKeys:null,selectionMode:null,showGridlines:!1,sortField:null,sortMode:"single",sortIcon:null,sortOrder:null,stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null,children:void 0}}),D=function(e){var t=I(r.useState(!1),2),n=t[0],l=t[1],o=r.useRef(null),c=r.useRef(null),u=r.useRef(!1),s=r.useRef(null),d=r.useRef(null),p=function(t){var r,l=(r=e.column,T.getCProps(r));return e.ptCallbacks.ptmo(("pt",T.getCProp(e.column,"pt")),t,{props:l,parent:e.metaData,state:{editing:n}})},m=I((0,i.OR)({type:"click",listener:function(e){!u.current&&v(e.target)&&C(e),u.current=!1}}),2),g=m[0],y=m[1],b=function(){e.editor&&!n&&(e.selectOnEdit||!e.selectOnEdit&&e.selected)&&(u.current=!0,l(!0),g(),s.current=function(e){v(e.target)||(u.current=!0)},f.F.on("overlay-click",s.current))},v=function(e){return o.current&&!(o.current.isSameNode(e)||o.current.contains(e))},h=function(){setTimeout((function(){l(!1),y(),f.F.off("overlay-click",s.current),s.current=null}),1)},C=function(t){e.cellEditValidator?e.cellEditValidator({originalEvent:t,columnProps:e})&&h():h()};r.useEffect((function(){if(o.current&&e.editor)if(clearTimeout(d.current),n){var t=a.p7.findSingle(o.current,"input");t&&document.activeElement!==t&&!t.hasAttribute("data-isCellEditing")&&(t.setAttribute("data-isCellEditing",!0),t.focus()),c.current.tabIndex=-1}else d.current=setTimeout((function(){c.current&&c.current.setAttribute("tabindex",0)}),50)})),(0,i.zq)((function(){s.current&&(f.F.off("overlay-click",s.current),s.current=null)}));var E,S=a.gb.getPropValue(e.bodyClassName,e.node.data,{field:e.field,rowIndex:e.rowIndex,props:e}),w=(0,a.AK)(S||e.className,{"p-editable-column":e.editor,"p-cell-editing":!!e.editor&&n}),x=e.bodyStyle||e.style;if(n){if(!e.editor)throw new Error("Editor is not found on column.");E=a.gb.getJSXElement(e.editor,{node:e.node,rowData:e.node.data,value:a.gb.resolveFieldData(e.node.data,e.field),field:e.field,rowIndex:e.rowIndex,props:e})}else E=e.body?a.gb.getJSXElement(e.body,e.node,{field:e.field,rowIndex:e.rowIndex,props:e}):a.gb.resolveFieldData(e.node.data,e.field);var k=(0,a.dG)({tabIndex:0,ref:c,className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:function(e){b()}},p("editorKeyHelperLabel")),R=(0,a.dG)(p("editorKeyHelper")),P=e.editor&&r.createElement("a",k,r.createElement("span",R)),O=(0,a.dG)({ref:o,className:w,style:x,onClick:function(e){return b()},onKeyDown:function(e){var t;13!==(t=e).which&&9!==t.which||C(t)}},p("bodyCell"),p("root"));return r.createElement("td",O,e.children,P,E)};function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}D.displayName="TreeTableBodyCell";var F=r.memo((function(e){var t=r.useRef(null),n=r.useRef(null),o=r.useRef(null),i=r.useRef(!1),c=!!e.expandedKeys&&void 0!==e.expandedKeys[e.node.key],u=function(e){return T.getCProps(e)},s=function(t,n){return e.ptCallbacks.ptmo(T.getCProp(t,"pt"),n,{props:u(t),parent:e.metaData})},d=function(t,n){return e.ptCallbacks.ptmo(T.getCProp(t,"pt"),n,{props:u(t),parent:e.metaData,context:{checked:P(),partialChecked:O()}})},f=function(e,t){return T.getCProp(e,t)},b=function(e){c?C(e):v(e),e.preventDefault(),e.stopPropagation()},v=function(t){var n=e.expandedKeys?A({},e.expandedKeys):{};n[e.node.key]=!0,e.onToggle({originalEvent:t,value:n}),E(t,!0)},C=function(t){var n=A({},e.expandedKeys);delete n[e.node.key],e.onToggle({originalEvent:t,value:n}),E(t,!1)},E=function(t,n){n?e.onExpand&&e.onExpand({originalEvent:t,node:e.node}):e.onCollapse&&e.onCollapse({originalEvent:t,node:e.node})},S=function(t){e.onRowClick&&e.onRowClick(t,e.node),i.current=!1},w=function(t){var n,r=t.check,l=t.selectionKeys,o=0,a=!1,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(e.node.children);try{for(i.s();!(n=i.n()).done;){var c=n.value;l[c.key]&&l[c.key].checked?o++:l[c.key]&&l[c.key].partialChecked&&(a=!0)}}catch(e){i.e(e)}finally{i.f()}r&&o===e.node.children.length?l[e.node.key]={checked:!0,partialChecked:!1}:(r||delete l[e.node.key],a||o>0&&o!==e.node.children.length?l[e.node.key]={checked:!1,partialChecked:!0}:l[e.node.key]={checked:!1,partialChecked:!1}),e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp(t)},x=function e(t,n,r){if(n?r[t.key]={checked:!0,partialChecked:!1}:delete r[t.key],t.children&&t.children.length)for(var l=0;l<t.children.length;l++)e(t.children[l],n,r)},R=function(){return!("single"!==e.selectionMode&&"multiple"!==e.selectionMode||!e.selectionKeys)&&("single"===e.selectionMode?e.selectionKeys===e.node.key:void 0!==e.selectionKeys[e.node.key])},P=function(){return!!e.selectionKeys&&e.selectionKeys[e.node.key]&&e.selectionKeys[e.node.key].checked},O=function(){return!!e.selectionKeys&&e.selectionKeys[e.node.key]&&e.selectionKeys[e.node.key].partialChecked},N=e.columns.map((function(t,i){var u,v;return f(t,"expander")&&(u=function(t){var n=c?(0,l.$2)("collapseLabel"):(0,l.$2)("expandLabel"),o=(0,a.dG)({className:"p-treetable-toggler-icon","aria-hidden":!0},s(t,"rowTogglerIcon")),i=c?r.createElement(m.v,o):r.createElement(g.X,o),u=a.Cz.getJSXIcon(e.togglerIcon||i,A({},o),{props:e}),d={marginLeft:16*e.level+"px",visibility:!1===e.node.leaf||e.node.children&&e.node.children.length?"visible":"hidden"},f=(0,a.dG)({type:"button",className:"p-treetable-toggler p-link p-unselectable-text",onClick:function(e){return b(e)},tabIndex:-1,style:d,"aria-label":n},s(t,"rowToggler")),y=r.createElement("button",f,u,r.createElement(p.H,null));if(e.togglerTemplate){var v={onClick:b,containerClassName:"p-treetable-toggler p-link",iconClassName:"p-treetable-toggler-icon",element:y,props:e,expanded:c,buttonStyle:d};y=a.gb.getJSXElement(e.togglerTemplate,e.node,v)}return y}(t),v=function(t){if("checkbox"===e.selectionMode&&!1!==e.node.selectable){var l=P(),i=O(),c=(0,a.AK)("p-checkbox-box",{"p-highlight":l,"p-indeterminate":i}),u="p-checkbox-icon p-c",s=(0,a.dG)({className:u},d(t,"checkboxIcon")),p=l?e.checkboxIcon||r.createElement(y.n,s):i?e.checkboxIcon||r.createElement(h,s):null,f=a.Cz.getJSXIcon(p,{className:u},{props:e,checked:l,partialChecked:i}),m=(0,a.dG)({type:"checkbox",onFocus:function(e){return a.p7.addClass(o.current,"p-focus"),void a.p7.addClass(n.current,"p-checkbox-focused")},onBlur:function(e){return a.p7.removeClass(o.current,"p-focus"),void a.p7.removeClass(n.current,"p-checkbox-focused")}},d(t,"hiddenInput")),g=(0,a.dG)({className:"p-checkbox p-treetable-checkbox p-component",ref:n,onClick:function(t){return function(t){var n=P(),r=e.selectionKeys?A({},e.selectionKeys):{};n?(e.propagateSelectionDown?x(e.node,!1,r):delete r[e.node.key],e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp({originalEvent:t,check:!1,selectionKeys:r}),e.onUnselect&&e.onUnselect({originalEvent:t,node:e.node})):(e.propagateSelectionDown?x(e.node,!0,r):r[e.node.key]={checked:!0},e.propagateSelectionUp&&e.onPropagateUp&&e.onPropagateUp({originalEvent:t,check:!0,selectionKeys:r}),e.onSelect&&e.onSelect({originalEvent:t,node:e.node})),e.onSelectionChange&&e.onSelectionChange({originalEvent:t,value:r}),a.p7.clearSelection()}(t)},role:"checkbox","aria-checked":l},d(t,"checkboxWrapper")),b=(0,a.dG)({className:"p-hidden-accessible"},d(t,"hiddenInputWrapper")),v=(0,a.dG)({className:c,ref:o},d(t,"checkbox"));return r.createElement("div",g,r.createElement("div",b,r.createElement("input",m)),r.createElement("div",v,f))}return null}(t)),r.createElement(D,k({key:"".concat(f(t,"columnKey")||f(t,"field"),"_").concat(i)},T.getCProps(t),{column:t,selectOnEdit:e.selectOnEdit,selected:R(),node:e.node,rowIndex:e.rowIndex,ptCallbacks:e.ptCallbacks,metaData:e.metaData}),u,v)})),M=c&&e.node.children?e.node.children.map((function(t,n){return r.createElement(F,{key:"".concat(t.key||JSON.stringify(t.data),"_").concat(n),level:e.level+1,rowIndex:e.rowIndex+"_"+n,node:t,checkboxIcon:e.checkboxIcon,columns:e.columns,expandedKeys:e.expandedKeys,selectOnEdit:e.selectOnEdit,onToggle:e.onToggle,togglerTemplate:e.togglerTemplate,onExpand:e.onExpand,onCollapse:e.onCollapse,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onSelectionChange:e.onSelectionChange,metaKeySelection:e.metaKeySelection,onRowClick:e.onRowClick,onRowMouseEnter:e.onRowMouseEnter,onRowMouseLeave:e.onRowMouseLeave,onSelect:e.onSelect,onUnselect:e.onUnselect,propagateSelectionUp:e.propagateSelectionUp,propagateSelectionDown:e.propagateSelectionDown,onPropagateUp:w,rowClassName:e.rowClassName,contextMenuSelectionKey:e.contextMenuSelectionKey,onContextMenuSelectionChange:e.onContextMenuSelectionChange,onContextMenu:e.onContextMenu,ptCallbacks:e.ptCallbacks,metaData:e.metaData})})):null,I={"p-highlight":R(),"p-highlight-contextmenu":e.contextMenuSelectionKey&&e.contextMenuSelectionKey===e.node.key,"p-row-odd":e.rowIndex%2!=0};if(e.rowClassName){var L=e.rowClassName(e.node);I=A(A({},I),L)}I=(0,a.AK)(I,e.node.className);var U=(0,a.dG)({ref:t,tabIndex:0,className:I,style:e.node.style,onClick:function(e){return S(e)},onTouchEnd:function(e){i.current=!0},onContextMenu:function(t){return n=t,a.p7.clearSelection(),e.onContextMenuSelectionChange&&e.onContextMenuSelectionChange({originalEvent:n,value:e.node.key}),void(e.onContextMenu&&e.onContextMenu({originalEvent:n,node:e.node}));var n},onKeyDown:function(e){return function(e){if(e.target===t.current){var n=e.currentTarget;switch(e.which){case 40:var r=n.nextElementSibling;r&&r.focus(),e.preventDefault();break;case 38:var l=n.previousElementSibling;l&&l.focus(),e.preventDefault();break;case 39:c||v(e),e.preventDefault();break;case 37:c&&C(e),e.preventDefault();break;case 13:S(e),e.preventDefault()}}}(e)},onMouseEnter:function(t){return n=t,void(e.onRowMouseEnter&&e.onRowMouseEnter({originalEvent:n,node:e.node,index:e.rowIndex}));var n},onMouseLeave:function(t){return n=t,void(e.onRowMouseLeave&&e.onRowMouseLeave({originalEvent:n,node:e.node,index:e.rowIndex}));var n}},e.ptCallbacks.ptm("row"));return r.createElement(r.Fragment,null,r.createElement("tr",U,N),M)}));function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}F.displayName="TreeTableRow";var Z=r.memo((function(e){var t="single"===e.selectionMode,n="multiple"===e.selectionMode,o=function t(n){var r,l=[],o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(n=n||e.value);try{for(o.s();!(r=o.n()).done;){var a=r.value;l.push(a.key),i(a.key)&&(l=l.concat(t(a.children)))}}catch(e){o.e(e)}finally{o.f()}return l},i=function(t){return e.expandedKeys&&!!e.expandedKeys[t]},c=function(r,l){e.onRowClick&&e.onRowClick({originalEvent:r,node:l});var i=r.target.nodeName;if("INPUT"!==i&&"BUTTON"!==i&&"A"!==i&&!a.p7.hasClass(r.target,"p-clickable")&&(t||n)&&!1!==l.selectable){var c,s=u(l),d=e.metaKeySelection,p=o(),f=p.findIndex((function(e){return e===l.key}));if(n&&r.shiftKey){a.p7.clearSelection();var m=p.findIndex((function(t){return e.selectionKeys[t]})),g=Math.min(f,m),y=Math.max(f,m);c=z({},e.selectionKeys);for(var b=g;b<=y;b++)c[p[b]]=!0}else if(d){var v=r.metaKey||r.ctrlKey;s&&v?(t?c=null:delete(c=z({},e.selectionKeys))[l.key],e.onUnselect&&e.onUnselect({originalEvent:r,node:l})):(t?c=l.key:n&&((c=v&&e.selectionKeys?z({},e.selectionKeys):{})[l.key]=!0),e.onSelect&&e.onSelect({originalEvent:r,node:l}))}else t?s?(c=null,e.onUnselect&&e.onUnselect({originalEvent:r,node:l})):(c=l.key,e.onSelect&&e.onSelect({originalEvent:r,node:l})):s?(delete(c=z({},e.selectionKeys))[l.key],e.onUnselect&&e.onUnselect({originalEvent:r,node:l})):((c=e.selectionKeys?z({},e.selectionKeys):{})[l.key]=!0,e.onSelect&&e.onSelect({originalEvent:r,node:l}));e.onSelectionChange&&e.onSelectionChange({originalEvent:r,value:c})}},u=function(r){return!(!t&&!n||!e.selectionKeys)&&(t?e.selectionKeys===r.key:void 0!==e.selectionKeys[r.key])},s=function(t,n){return r.createElement(F,{key:"".concat(t.key||JSON.stringify(t.data),"_").concat(n),level:0,rowIndex:n,selectOnEdit:e.selectOnEdit,node:t,checkboxIcon:e.checkboxIcon,columns:e.columns,expandedKeys:e.expandedKeys,onToggle:e.onToggle,togglerTemplate:e.togglerTemplate,onExpand:e.onExpand,onCollapse:e.onCollapse,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onSelectionChange:e.onSelectionChange,metaKeySelection:e.metaKeySelection,onRowClick:c,onRowMouseEnter:e.onRowMouseEnter,onRowMouseLeave:e.onRowMouseLeave,onSelect:e.onSelect,onUnselect:e.onUnselect,propagateSelectionUp:e.propagateSelectionUp,propagateSelectionDown:e.propagateSelectionDown,rowClassName:e.rowClassName,contextMenuSelectionKey:e.contextMenuSelectionKey,onContextMenuSelectionChange:e.onContextMenuSelectionChange,onContextMenu:e.onContextMenu,ptCallbacks:e.ptCallbacks,metaData:e.metaData})},d=e.value&&e.value.length?function(){if(e.paginator&&!e.lazy){for(var t=e.rows||0,n=e.first||0,r=n+t,l=[],o=n;o<r&&e.value[o];o++)l.push(s(e.value[o]));return l}return e.value.map(s)}():function(){if(e.loading)return null;var t=e.columns?e.columns.length:null,n=e.emptyMessage||(0,l.qJ)("emptyMessage"),o=(0,a.dG)({className:"p-treetable-emptymessage"},e.ptCallbacks.ptm("emptyMessage")),i=(0,a.dG)({colSpan:t},e.ptCallbacks.ptm("bodyCell"));return r.createElement("tr",o,r.createElement("td",i,n))}(),p=(0,a.dG)({className:"p-treetable-tbody"},e.ptCallbacks.ptm("tbody"));return r.createElement("tbody",p,d)}));Z.displayName="TreeTableBody";var H=o.V.extend({defaultProps:{__TYPE:"ColumnGroup",children:void 0},getCProp:function(e,t){return a.gb.getComponentProp(e,t,H.defaultProps)},getCProps:function(e){return a.gb.getComponentProps(e,H.defaultProps)}}),B=o.V.extend({defaultProps:{__TYPE:"Row",style:null,className:null,children:void 0},getCProp:function(e,t){return a.gb.getComponentProp(e,t,B.defaultProps)}}),W=r.memo((function(e){var t=function(e,t){return T.getCProp(e,t)},n=function(t){return e.ptCallbacks.ptmo(T.getCProps(t))},l=function(l,o){var i=(0,a.dG)({key:l.field||o,className:t(l,"footerClassName")||t(l,"className"),style:t(l,"footerStyle")||t(l,"style"),rowSpan:t(l,"rowSpan"),colSpan:t(l,"colSpan")},function(r,l){return e.ptCallbacks.ptmo(t(r,"pt"),"footerCell",{props:n(r),parent:e.metaData})}(l));return r.createElement("td",i,t(l,"footer"))},o=e.columnGroup?r.Children.toArray(H.getCProp(e.columnGroup,"children")).map((function(t,n){var o=r.Children.toArray(B.getCProp(t,"children")).map(l),i=(0,a.dG)(e.ptCallbacks.ptm("footerRow"));return r.createElement("tr",k({},i,{key:n}),o)})):function(t){if(t){var n=t.map(l),o=(0,a.dG)(e.ptCallbacks.ptm("footerRow"));return r.createElement("tr",o,n)}return null}(e.columns);if(function(){if(e.columnGroup)return!0;for(var n=0;n<e.columns.length;n++)if(t(e.columns[n],"footer"))return!0;return!1}()){var i=(0,a.dG)({className:"p-treetable-tfoot"},e.ptCallbacks.ptm("tfoot"));return r.createElement("tfoot",i,o)}return null}));function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}W.displayName="TreeTableFooter";var _=r.memo((function(e){var t=r.useRef(null),n=function(t){return e.ptCallbacks.ptmo(T.getCProps(t))},l=function(t,r){return e.ptCallbacks.ptmo(T.getCProp(t,"pt"),r,{props:n(t),parent:e.metaData})},o=function(t,n){if(i(n,"sortable")){var r=t.target;(a.p7.hasClass(r,"p-sortable-column")||a.p7.hasClass(r,"p-column-title")||a.p7.hasClass(r,"p-sortable-column-icon")||a.p7.hasClass(r.parentElement,"p-sortable-column-icon"))&&(e.onSort({originalEvent:t,sortField:i(n,"sortField")||i(n,"field"),sortFunction:i(n,"sortFunction"),sortable:i(n,"sortable")}),a.p7.clearSelection())}},i=function(e){return e?"string"==typeof(arguments.length<=1?void 0:arguments[1])?T.getCProp(e,arguments.length<=1?void 0:arguments[1]):T.getCProp((arguments.length<=1?void 0:arguments[1])||e,arguments.length<=2?void 0:arguments[2]):null},c=function(n,c){var u;if(i(n,"filter")&&c.renderFilter&&(u=i(n,"filterElement")||r.createElement(C.o,{onInput:function(r){return function(n,r){if(i(r,"filter")&&e.onFilter){t.current&&clearTimeout(t.current);var l=n.target.value;t.current=setTimeout((function(){e.onFilter({value:l,field:i(r,"field"),matchMode:i(r,"filterMatchMode")||"startsWith"}),t.current=null}),e.filterDelay)}}(r,n)},type:e.filterType,defaultValue:e.filters&&e.filters[i(n,"field")]?e.filters[i(n,"field")].value:null,className:"p-column-filter",placeholder:i(n,"filterPlaceholder"),maxLength:i(n,"filterMaxLength"),pt:l(n,"filterInput")})),c.filterOnly){var s=(0,a.dG)({key:i(n,"columnKey")||i(n,"field")||c.index,className:(0,a.AK)("p-filter-column",i(n,"filterHeaderClassName")),style:i(n,"filterHeaderStyle")||i(n,"style"),rowSpan:i(n,"rowSpan"),colSpan:i(n,"colSpan")},l(n,"headerCell"),l(n,"root"));return r.createElement("th",s,u)}var d=r.createRef(null),p=function(t){if(e.multiSortMeta)for(var n=0;n<e.multiSortMeta.length;n++)if(e.multiSortMeta[n].field===i(t,"field"))return n;return-1}(n),f=-1!==p?e.multiSortMeta[p]:null,m=i(n,"field")===e.sortField,g=null!==f,y=i(n,"sortable")&&(m||g),b=0;m?b=e.sortOrder:g&&(b=f.order);var v=function(t,n,o){if(i(t,"sortable")){var c="p-sortable-column-icon",u=(0,a.dG)({className:c},l(t,"sortIcon")),s=n?o<0?r.createElement(w.W,u):r.createElement(x.m,u):r.createElement(S.V,u);return a.Cz.getJSXIcon(e.sortIcon||s,{className:c},{props:e,sorted:n,sortOrder:o})}return null}(n,y,b),h=function(e,t,n){return i(e,"sortable")?t&&n<0?"descending":t&&n>0?"ascending":"none":null}(n,y,b),R=function(t,n){if(-1!==n&&e.multiSortMeta&&e.multiSortMeta.length>1){var o=(0,a.dG)({className:"p-sortable-column-badge"},l(t,"sortBadge"));return r.createElement("span",o,n+1)}return null}(n,p),P=(0,a.AK)(i(n,"headerClassName")||i(n,"className"),{"p-sortable-column":i(n,"sortable"),"p-highlight":y,"p-resizable-column":e.resizableColumns&&i(n,"resizeable")}),O=i(n,"headerTooltip"),N=a.gb.isNotEmpty(O),M=function(e,t){var n=a.gb.getJSXElement(i(e,"header"),{props:t}),o=(0,a.dG)({className:"p-column-title"},l(e,"headerTitle"));return r.createElement("span",o,n)}(n,c),I=function(t){if(e.resizableColumns){var n=(0,a.dG)({className:"p-column-resizer p-clickable",onMouseDown:function(n){return function(t,n){e.resizableColumns&&e.onResizeStart&&e.onResizeStart({originalEvent:t,columnEl:t.target.parentElement,column:n})}(n,t)}},l(t,"columnResizer"));return r.createElement("span",n)}return null}(n),T=(0,a.dG)({ref:d,className:P,style:i(n,"headerStyle")||i(n,"style"),tabIndex:i(n,"sortable")?e.tabIndex:null,onClick:function(e){return o(e,n)},onMouseDown:function(t){return function(t,n){e.reorderableColumns&&i(n,"reorderable")&&("INPUT"!==t.target.nodeName?t.currentTarget.draggable=!0:"INPUT"===t.target.nodeName&&(t.currentTarget.draggable=!1))}(t,n)},onKeyDown:function(e){return function(e,t){"Enter"===e.key&&(o(e,t),e.preventDefault())}(e,n)},rowSpan:i(n,"rowSpan"),colSpan:i(n,"colSpan"),"aria-sort":h,onDragStart:function(t){return function(t,n){e.onDragStart&&e.onDragStart({originalEvent:t,column:n})}(t,n)},onDragOver:function(t){return function(t,n){e.onDragOver&&e.onDragOver({originalEvent:t,column:n})}(t,n)},onDragLeave:function(t){return function(t,n){e.onDragLeave&&e.onDragLeave({originalEvent:t,column:n})}(t,n)},onDrop:function(t){return function(t,n){e.onDrop&&e.onDrop({originalEvent:t,column:n})}(t,n)}},l(n,"headerCell"),l(n,"root"));return r.createElement(r.Fragment,{key:n.columnKey||n.field||c.index},r.createElement("th",T,I,M,v,R,u),N&&r.createElement(E.u,k({target:d,content:O},i(n,"headerTooltipOptions"))))},u=e.columnGroup?r.Children.toArray(H.getCProp(e.columnGroup,"children")).map((function(t,n){var l=r.Children.toArray(B.getCProp(t,"children")).map((function(e,t){return c(e,{index:t,filterOnly:!1,renderFilter:!0})})),o=(0,a.dG)(e.ptCallbacks.ptm("headerRow"));return r.createElement("tr",k({},o,{key:n}),l)})):function(t){if(t){var n=(0,a.dG)(e.ptCallbacks.ptm("headerRow"));return function(e){if(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(i(r,"filter"))return!0}}catch(e){n.e(e)}finally{n.f()}}return!1}(t)?r.createElement(r.Fragment,null,r.createElement("tr",n,t.map((function(e,t){return c(e,{index:t,filterOnly:!1,renderFilter:!1})}))),r.createElement("tr",n,t.map((function(e,t){return c(e,{index:t,filterOnly:!0,renderFilter:!0})})))):r.createElement("tr",n,t.map((function(e,t){return c(e,{index:t,filterOnly:!1,renderFilter:!1})})))}return null}(e.columns),s=(0,a.dG)({className:"p-treetable-thead"},e.ptCallbacks.ptm("thead"));return r.createElement("thead",s,u)}));_.displayName="TreeTableHeader";var X=r.memo((function(e){var t=r.useRef(null),n=r.useRef(null),l=r.useRef(null),o=r.useRef(null),c=r.useRef(null),u=r.useRef(null),s=r.useRef(null);(0,i.nw)((function(){if(e.frozen)o.current.style.paddingBottom=a.p7.calculateScrollbarWidth()+"px";else{var t=a.p7.calculateScrollbarWidth();l.current.style.marginRight=t+"px",s.current&&(s.current.style.marginRight=t+"px")}})),r.useEffect((function(){!function(){if(e.scrollHeight)if(-1!==e.scrollHeight.indexOf("%")){var n=function(e){if(e){for(var t=e;t&&!a.p7.hasClass(t,"p-treetable");)t=t.parentElement;return t}return null}(t.current);o.current.style.visibility="hidden",o.current.style.height="100px";var r=a.p7.getOuterHeight(n),l=a.p7.getOuterHeight(n.parentElement)*parseInt(e.scrollHeight,10)/100-(r-100);o.current.style.height="auto",o.current.style.maxHeight=l+"px",o.current.style.visibility="visible"}else o.current.style.maxHeight=e.scrollHeight}()}));var d=(0,a.AK)("p-treetable-scrollable-view",{"p-treetable-frozen-view":e.frozen,"p-treetable-unfrozen-view":!e.frozen&&e.frozenWidth}),p=e.frozen?e.frozenWidth:"calc(100% - "+e.frozenWidth+")",f=e.frozen?null:e.frozenWidth,m=function(){if(a.gb.isNotEmpty(e.columns)){var t=e.columns.map((function(e,t){return r.createElement("col",{key:e.field+"_"+t})})),n=(0,a.dG)({className:"p-treetable-scrollable-colgroup"},e.ptCallbacks.ptm("scrollableColgroup"));return r.createElement("colgroup",n,t)}return null}(),g=!e.frozen&&e.scrollHeight?{overflowY:"scroll"}:null,y=(0,a.dG)({className:d,style:{width:p,left:f},ref:t},e.ptCallbacks.ptm("scrollable")),b=(0,a.dG)({className:"p-treetable-scrollable-header",ref:n,onScroll:function(e){n.current.scrollLeft=0}},e.ptCallbacks.ptm("scrollableHeader")),v=(0,a.dG)({className:"p-treetable-scrollable-header-box",ref:l},e.ptCallbacks.ptm("scrollableHeaderBox")),h=(0,a.dG)({className:"p-treetable-scrollable-header-table"},e.ptCallbacks.ptm("scrollableHeaderTable")),C=(0,a.dG)({className:"p-treetable-scrollable-body",ref:o,style:g,onScroll:function(e){return(r=t.current.previousElementSibling)&&(n=a.p7.findSingle(r,".p-treetable-scrollable-body")),l.current.style.marginLeft=-1*o.current.scrollLeft+"px",s.current&&(s.current.style.marginLeft=-1*o.current.scrollLeft+"px"),void(n&&(n.scrollTop=o.current.scrollTop));var n,r}},e.ptCallbacks.ptm("scrollableBody")),E=(0,a.dG)({ref:c,style:{top:"0"},className:"p-treetable-scrollable-body-table"},e.ptCallbacks.ptm("scrollableBodyTable")),S=(0,a.dG)({className:"p-treetable-scrollable-footer",ref:u},e.ptCallbacks.ptm("scrollableFooter")),w=(0,a.dG)({className:"p-treetable-scrollable-footer-box",ref:s},e.ptCallbacks.ptm("scrollableFooterBox")),x=(0,a.dG)({className:"p-treetable-scrollable-footer-table"},e.ptCallbacks.ptm("scrollableFooterTable"));return r.createElement("div",y,r.createElement("div",b,r.createElement("div",v,r.createElement("table",h,m,e.header))),r.createElement("div",C,r.createElement("table",E,m,e.body)),r.createElement("div",S,r.createElement("div",w,r.createElement("table",x,m,e.footer))))}));function J(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,l=function(){};return{s:l,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw o}}}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}X.displayName="TreeTableScrollableView";var Q=r.forwardRef((function(e,t){var n=r.useContext(l.Ou),o=L.getProps(e,n),p=I(r.useState(o.expandedKeys),2),f=p[0],m=p[1],g=I(r.useState(o.first),2),y=g[0],b=g[1],v=I(r.useState(o.rows),2),h=v[0],C=v[1],E=I(r.useState(o.sortField),2),S=E[0],w=E[1],x=I(r.useState(o.sortOrder),2),R=x[0],P=x[1],O=I(r.useState(o.multiSortMeta),2),N=O[0],D=O[1],K=I(r.useState(o.filters),2),U=K[0],A=K[1],F=I(r.useState([]),2),j=F[0],z=F[1],G={props:o,state:{expandedKeys:f,first:y,rows:h,sortField:S,sortOrder:R,multiSortMeta:N,filters:U,columnOrder:j}},H=L.setMetaData(G),B=r.useRef(null),V=r.useRef(null),$=r.useRef(null),q=r.useRef(null),ee=r.useRef(null),te=r.useRef(null),ne=r.useRef(null),re=r.useRef(null),le=r.useRef(0),oe=r.useRef(0),ae=r.useRef(0),ie=r.useRef(null),ce=r.useRef(null),ue=r.useRef(null),se=r.useRef(null),de=r.useRef(null),pe=r.useRef(null),fe=I((0,i.OR)({type:"mousemove",listener:function(e){te.current&&Le(e)}}),2),me=fe[0],ge=fe[1],ye=I((0,i.OR)({type:"mouseup",listener:function(e){te.current&&(te.current=!1,De())}}),2),be=ye[0],ve=ye[1],he=function(e){o.onToggle?o.onToggle(e):m(e.value)},Ce=function(e){o.onPage?o.onPage(e):(b(e.first),C(e.rows))},Ee=function(e){var t,n,r=e.sortField,l=o.defaultSortOrder;if(se.current=e.sortable,de.current=e.sortFunction,pe.current=e.sortField,"multiple"===o.sortMode){var a=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if((t=M(Je()))&&t instanceof Array){var i=t.find((function(e){return e.field===r}));l=i?Se(i.order):l}var c={field:r,order:l};l?(t&&a||(t=[]),we(c,t)):o.removableSort&&t&&xe(c,t),n={multiSortMeta:t}}else l=_e()===r?Se(Xe()):l,o.removableSort&&(r=l?r:null),n={sortField:r,sortOrder:l};o.onSort?o.onSort(n):(b(0),w(n.sortField),P(n.sortOrder),D(n.multiSortMeta))},Se=function(e){return o.removableSort?o.defaultSortOrder===e?-1*e:0:-1*e},we=function(e,t){for(var n=-1,r=0;r<t.length;r++)if(t[r].field===e.field){n=r;break}n>=0?t[n]=e:t.push(e)},xe=function(e,t){for(var n=-1,r=0;r<t.length;r++)if(t[r].field===e.field){n=r;break}n>=0&&t.splice(n,1),t=t.length>0?t:null},ke=function e(t){var n=M(t);if(se.current&&"custom"===se.current&&de.current)n=de.current({data:t,field:_e(),order:Xe()});else{n.sort((function(e,t){var n=_e(),r=a.gb.resolveFieldData(e.data,n),l=a.gb.resolveFieldData(t.data,n);return Oe(r,l,Xe())}));for(var r=0;r<n.length;r++)n[r].children&&n[r].children.length&&(n[r].children=e(n[r].children))}return n},Re=function e(t,n){var r=M(t);r.sort((function(e,t){return Pe(e,t,n,0)}));for(var l=0;l<r.length;l++)r[l].children&&r[l].children.length&&(r[l].children=e(r[l].children,n));return r},Pe=function e(t,r,o,i){var c=a.gb.resolveFieldData(t.data,o[i].field),u=a.gb.resolveFieldData(r.data,o[i].field);return 0===a.gb.compare(c,u,n&&n.locale||l.ZP.locale)?o.length-1>i?e(t,r,o,i+1):0:Oe(c,u,o[i].order)},Oe=function(e,t,r){return a.gb.sort(e,t,r,n&&n.locale||l.ZP.locale,n&&n.nullSortOrder||l.ZP.nullSortOrder)},Ne=function(e,t,n){Me({value:e,field:t,matchMode:n})},Me=function(e){var t=$e(),n=t?Y({},t):{};Ie(e.value)?n[e.field]&&delete n[e.field]:n[e.field]={value:e.value,matchMode:e.matchMode},o.onFilter?o.onFilter({filters:n}):(b(0),A(n))},Ie=function(e){return null==e||"string"==typeof e&&0===e.trim().length||e instanceof Array&&0===e.length},Te=function(e){var t=a.p7.getOffset(B.current).left;ne.current=e.columnEl,re.current=e.column,te.current=!0,le.current=e.originalEvent.pageX-t+B.current.scrollLeft,Ae()},Le=function(e){var t=a.p7.getOffset(B.current).left;a.p7.addClass(B.current,"p-unselectable-text"),$.current.style.height=B.current.offsetHeight+"px",$.current.style.top="0px",$.current.style.left=e.pageX-t+B.current.scrollLeft+"px",$.current.style.display="block"},De=function(e){var t=$.current.offsetLeft-le.current,n=ne.current.offsetWidth,r=n+t,l=ne.current.style.minWidth||15;if(n+t>parseInt(l,10)){if("fit"===o.columnResizeMode){var i=ne.current.nextElementSibling,c=i.offsetWidth-t;if(r>15&&c>15)if(o.scrollable){var u=Ke(ne.current),s=a.p7.findSingle(u,"table.p-treetable-scrollable-body-table"),d=a.p7.findSingle(u,"table.p-treetable-scrollable-header-table"),p=a.p7.findSingle(u,"table.p-treetable-scrollable-footer-table"),f=a.p7.index(ne.current);Ue(d,f,r,c),Ue(s,f,r,c),Ue(p,f,r,c)}else ne.current.style.width=r+"px",i&&(i.style.width=c+"px")}else if("expand"===o.columnResizeMode)if(o.scrollable){var m=Ke(ne.current),g=a.p7.findSingle(m,"table.p-treetable-scrollable-body-table"),y=a.p7.findSingle(m,"table.p-treetable-scrollable-header-table"),b=a.p7.findSingle(m,"table.p-treetable-scrollable-footer-table");g.style.width=g.offsetWidth+t+"px",y.style.width=y.offsetWidth+t+"px",b&&(b.style.width=y.offsetWidth+t+"px");var v=a.p7.index(ne.current);Ue(y,v,r,null),Ue(g,v,r,null),Ue(b,v,r,null)}else V.current.style.width=V.current.offsetWidth+t+"px",ne.current.style.width=r+"px";o.onColumnResizeEnd&&o.onColumnResizeEnd({element:ne.current,column:re.current,delta:t})}$.current.style.display="none",ne.current=null,re.current=null,a.p7.removeClass(B.current,"p-unselectable-text"),Fe()},Ke=function(e){if(e){for(var t=e.parentElement;t&&!a.p7.hasClass(t,"p-treetable-scrollable-view");)t=t.parentElement;return t}return null},Ue=function(e,t,n,r){if(e){var l="COLGROUP"===e.children[0].nodeName?e.children[0]:null;if(!l)throw new Error("Scrollable tables require a colgroup to support resizable columns");var o=l.children[t],a=o.nextElementSibling;o.style.width=n+"px",a&&r&&(a.style.width=r+"px")}},Ae=function(){me(),be()},Fe=function(){ge(),ve()},je=function(e){var t=e.originalEvent,n=e.column;te.current?t.preventDefault():(oe.current=a.p7.getHiddenElementOuterWidth(q.current),ae.current=a.p7.getHiddenElementOuterHeight(q.current),ie.current=He(t.currentTarget),ce.current=n,t.dataTransfer.setData("text","b"))},ze=function(e){var t=e.originalEvent,n=He(t.currentTarget);if(o.reorderableColumns&&ie.current&&n){t.preventDefault();var r=a.p7.getOffset(B.current),l=a.p7.getOffset(n);if(ie.current!==n){var i=l.left-r.left,c=l.left+n.offsetWidth/2;q.current.style.top=l.top-r.top-(ae.current-1)+"px",ee.current.style.top=l.top-r.top+n.offsetHeight+"px",t.pageX>c?(q.current.style.left=i+n.offsetWidth-Math.ceil(oe.current/2)+"px",ee.current.style.left=i+n.offsetWidth-Math.ceil(oe.current/2)+"px",ue.current=1):(q.current.style.left=i-Math.ceil(oe.current/2)+"px",ee.current.style.left=i-Math.ceil(oe.current/2)+"px",ue.current=-1),q.current.style.display="block",ee.current.style.display="block"}}},Ge=function(e){var t=e.originalEvent;o.reorderableColumns&&ie.current&&(t.preventDefault(),q.current.style.display="none",ee.current.style.display="none")},Ze=function(e){var t=e.originalEvent,n=e.column;if(t.preventDefault(),ie.current){var l=a.p7.index(ie.current),i=a.p7.index(He(t.currentTarget)),c=l!==i;if(c&&(i-l==1&&-1===ue.current||l-i==1&&1===ue.current)&&(c=!1),c){var u=j?Ye():r.Children.toArray(o.children),s=function(e,t){return Be(e,"columnKey")||Be(t,"columnKey")?a.gb.equals(e,t,"props.columnKey"):a.gb.equals(e,t,"props.field")},d=u.findIndex((function(e){return s(e,ce.current)})),p=u.findIndex((function(e){return s(e,n)}));p<d&&1===ue.current&&p++,p>d&&-1===ue.current&&p--,a.gb.reorderArray(u,d,p);var f,m=[],g=J(u);try{for(g.s();!(f=g.n()).done;){var y=f.value;m.push(Be(y,"columnKey")||Be(y,"field"))}}catch(e){g.e(e)}finally{g.f()}z(m),o.onColReorder&&o.onColReorder({dragIndex:d,dropIndex:p,columns:u})}q.current.style.display="none",ee.current.style.display="none",ie.current.draggable=!1,ie.current=null,ue.current=null}},He=function(e){if("TH"===e.nodeName)return e;for(var t=e.parentElement;"TH"!==t.nodeName&&(t=t.parentElement););return t},Be=function(e,t){return T.getCProp(e,t)},We=function(){return o.onPage?o.first:y},Ve=function(){return o.onPage?o.rows:h},_e=function(){return o.onSort?o.sortField:S},Xe=function(){return o.onSort?o.sortOrder:R},Je=function(){return(o.onSort?o.multiSortMeta:N)||[]},$e=function(){return o.onFilter?o.filters:U},qe=function(e,t){if(e&&e.length)for(var n=0;n<e.length;n++){var r=e[n];if(Be(r,"columnKey")===t||Be(r,"field")===t)return r}return null},Ye=function(){var e=r.Children.toArray(o.children);if(e&&e.length){if(o.reorderableColumns&&j){var t,n=[],l=J(j);try{for(l.s();!(t=l.n()).done;){var a=t.value,i=qe(e,a);i&&n.push(i)}}catch(e){l.e(e)}finally{l.f()}return[].concat(n,M(e.filter((function(e){return n.indexOf(e)<0}))))}return e}return null},Qe=function(e,t){if(e){var n=!1;if(e.children){var r=M(e.children);e.children=[];var l,o=J(r);try{for(o.s();!(l=o.n()).done;){var a=Y({},l.value);et(a,t)&&(n=!0,e.children.push(a))}}catch(e){o.e(e)}finally{o.f()}}if(n)return!0}},et=function(e,t){var n=t.filterField,r=t.filterValue,l=t.filterConstraint,i=t.isStrictMode,c=t.options,u=!1;return l(a.gb.resolveFieldData(e.data,n),r,o.filterLocale,c)&&(u=!0),(!u||i&&!tt(e))&&(u=Qe(e,{filterField:n,filterValue:r,filterConstraint:l,isStrictMode:i})||u),u},tt=function(e){return!1!==e.leaf&&!(e.children&&e.children.length)};r.useImperativeHandle(t,(function(){return{props:o,filter:Ne,getElement:function(){return B.current}}}));var nt,rt=function(e,t){var n=_e(),l=Xe(),a=M(Je()),i=$e();return r.createElement(_,{columns:e,columnGroup:t,tabIndex:o.tabIndex,onSort:Ee,sortField:n,sortIcon:o.sortIcon,sortOrder:l,multiSortMeta:a,resizableColumns:o.resizableColumns,onResizeStart:Te,reorderableColumns:o.reorderableColumns,onDragStart:je,onDragOver:ze,onDragLeave:Ge,onDrop:Ze,onFilter:Me,filters:i,filterDelay:o.filterDelay,ptCallbacks:H,metaData:G})},lt=function(e,t){return r.createElement(W,{columns:e,columnGroup:t,ptCallbacks:H,metaData:G})},ot=function(e,t){return r.createElement(Z,{value:e,checkboxIcon:o.checkboxIcon,columns:t,expandedKeys:o.onToggle?o.expandedKeys:f,selectOnEdit:o.selectOnEdit,onToggle:he,togglerTemplate:o.togglerTemplate,onExpand:o.onExpand,onCollapse:o.onCollapse,paginator:o.paginator,first:We(),rows:Ve(),selectionMode:o.selectionMode,selectionKeys:o.selectionKeys,onSelectionChange:o.onSelectionChange,metaKeySelection:o.metaKeySelection,onRowClick:o.onRowClick,onRowMouseEnter:o.onRowMouseEnter,onRowMouseLeave:o.onRowMouseLeave,onSelect:o.onSelect,onUnselect:o.onUnselect,propagateSelectionUp:o.propagateSelectionUp,propagateSelectionDown:o.propagateSelectionDown,lazy:o.lazy,rowClassName:o.rowClassName,emptyMessage:o.emptyMessage,loading:o.loading,contextMenuSelectionKey:o.contextMenuSelectionKey,onContextMenuSelectionChange:o.onContextMenuSelectionChange,onContextMenu:o.onContextMenu,ptCallbacks:H,metaData:G})},at=function(e,t){var n=(0,a.AK)("p-paginator-"+e,o.paginatorClassName);return r.createElement(d.D,{first:We(),rows:Ve(),pageLinkSize:o.pageLinkSize,className:n,onPageChange:Ce,template:o.paginatorTemplate,totalRecords:t,rowsPerPageOptions:o.rowsPerPageOptions,currentPageReportTemplate:o.currentPageReportTemplate,leftContent:o.paginatorLeft,rightContent:o.paginatorRight,alwaysShow:o.alwaysShowPaginator,dropdownAppendTo:o.paginatorDropdownAppendTo,pt:H.ptm("paginator")})},it=function(e,t,n,l,a){var i=rt(t,l),c=lt(t,a),u=ot(e,t);return r.createElement(X,{columns:t,header:i,body:u,footer:c,scrollHeight:o.scrollHeight,frozen:n,frozenWidth:o.frozenWidth,ptCallbacks:H,metaData:G})},ct=function(){var e=o.value||[];if(!o.lazy&&e&&e.length){var t=$e(),n=_e(),i=Je();(a.gb.isNotEmpty(t)||o.globalFilter)&&(e=function(e){var t,n=[],a=$e(),i=r.Children.toArray(o.children),c="strict"===o.filterMode,u=J(e);try{for(u.s();!(t=u.n()).done;){for(var s=t.value,d=Y({},s),p=!0,f=!1,m=0;m<i.length;m++){var g=i[m],y=a?a[Be(g,"field")]:null,b=Be(g,"field"),v=void 0;if(y){var h=y.matchMode||Be(g,"filterMatchMode")||"startsWith";if(v={filterField:b,filterValue:y.value,filterConstraint:"custom"===h?Be(g,"filterFunction"):l.iZ.filters[h],isStrictMode:c,options:{rowData:s,filters:a,props:o,column:{filterMeta:y,filterField:b,props:T.getCProps(g)}}},(!c||Qe(d,v)||et(d,v))&&(c||et(d,v)||Qe(d,v))||(p=!1),!p)break}if(o.globalFilter&&!f){var C=Y({},d);v={filterField:b,filterValue:o.globalFilter,filterConstraint:l.iZ.filters[o.globalFilterMatchMode],isStrictMode:c},(c&&(Qe(C,v)||et(C,v))||!c&&(et(C,v)||Qe(C,v)))&&(f=!0,d=C)}}var E=p;o.globalFilter&&(E=p&&f),E&&n.push(d)}}catch(e){u.e(e)}finally{u.f()}return n}(e)),(n||a.gb.isNotEmpty(i))&&("single"===o.sortMode?e=function(e){return ke(e)}(e):"multiple"===o.sortMode&&(e=function(e){var t=Je();return t?Re(e,t):e}(e)))}return e}(),ut=(0,a.AK)("p-treetable p-component",{"p-treetable-hoverable-rows":o.rowHover,"p-treetable-selectable":o.selectionMode&&"single"===o.selectionMode||o.selectionMode&&"multiple"===o.selectionMode,"p-treetable-resizable":o.resizableColumns,"p-treetable-resizable-fit":o.resizableColumns&&"fit"===o.columnResizeMode,"p-treetable-striped":o.stripedRows,"p-treetable-gridlines":o.showGridlines},o.className),st=(nt=ct,o.scrollable?function(e){var t,n,l=Ye(),i=function(e){var t,n=null,r=J(e);try{for(r.s();!(t=r.n()).done;){var l=t.value;Be(l,"frozen")&&(n=n||[]).push(l)}}catch(e){r.e(e)}finally{r.f()}return n}(l),c=i?function(e){var t,n=null,r=J(e);try{for(r.s();!(t=r.n()).done;){var l=t.value;Be(l,"frozen")||(n=n||[]).push(l)}}catch(e){r.e(e)}finally{r.f()}return n}(l):l;i&&(t=it(e,i,!0,o.frozenHeaderColumnGroup,o.frozenFooterColumnGroup)),n=it(e,c,!1,o.headerColumnGroup,o.footerColumnGroup);var u=(0,a.dG)({className:"p-treetable-wrapper p-treetable-scrollable-wrapper"},H.ptm("scrollableWrapper"));return r.createElement("div",u,t,n)}(nt):function(e){var t=Ye(),n=rt(t,o.headerColumnGroup),l=lt(t,o.footerColumnGroup),i=ot(e,t),c=(0,a.AK)("p-treetable-table",{"p-treetable-scrollable-table":o.scrollable,"p-treetable-resizable-table":o.resizableColumns,"p-treetable-resizable-table-fit":o.resizableColumns&&"fit"===o.columnResizeMode},o.tableClassName),u=(0,a.dG)({className:"p-treetable-wrapper"},H.ptm("wrapper")),s=(0,a.dG)({ref:V,style:o.tableStyle,className:c},H.ptm("table"));return r.createElement("div",u,r.createElement("table",s,n,l,i))}(nt)),dt=function(e){return o.lazy?o.totalRecords:e?e.length:0}(ct),pt=(0,a.dG)({className:"p-treetable-header"},H.ptm("header")),ft=(0,a.dG)({className:"p-treetable-footer"},H.ptm("footer")),mt=(0,a.dG)({ref:$,className:"p-column-resizer-helper",style:{display:"none"}},H.ptm("resizeHelper")),gt=o.header&&r.createElement("div",pt,o.header),yt=o.footer&&r.createElement("div",ft,o.footer),bt=o.paginator&&"bottom"!==o.paginatorPosition&&at("top",dt),vt=o.paginator&&"top"!==o.paginatorPosition&&at("bottom",dt),ht=function(){if(o.loading){var e=(0,a.dG)({className:"p-treetable-loading-icon"},H.ptm("loadingIcon")),t=o.loadingIcon||r.createElement(s.L,k({},e,{spin:!0})),n=a.Cz.getJSXIcon(t,Y({},e),{props:o}),l=(0,a.dG)({className:"p-treetable-loading"},H.ptm("loadingWrapper")),i=(0,a.dG)({className:"p-treetable-loading-overlay p-component-overlay"},H.ptm("loadingOverlay"));return r.createElement("div",l,r.createElement("div",i,n))}return null}(),Ct=o.resizableColumns&&r.createElement("div",mt),Et={position:"absolute",display:"none"},St=(0,a.dG)({className:"p-datatable-reorder-indicator-up",style:Y({},Et)},H.ptm("reorderIndicatorUp")),wt=(0,a.dG)(H.ptm("reorderIndicatorUpIcon")),xt=o.reorderableColumns&&a.Cz.getJSXIcon(o.reorderIndicatorUpIcon||r.createElement(c.v,wt),Y({},wt),{props:o}),kt=o.reorderableColumns&&r.createElement("span",k({ref:q},St),xt),Rt={className:"p-datatable-reorder-indicator-down",style:Y({},Et)},Pt=(0,a.dG)(H.ptm("reorderIndicatorDownIcon")),Ot=a.Cz.getJSXIcon(o.reorderIndicatorDownIcon||r.createElement(u.H,Pt),Y({},Pt),{props:o}),Nt=o.reorderableColumns&&r.createElement("span",k({ref:ee},Rt),Ot),Mt=(0,a.dG)({ref:B,id:o.id,className:ut,style:o.style,"data-scrollselectors":".p-treetable-wrapper"},a.gb.findDiffKeys(o,Q.defaultProps),H.ptm("root"));return r.createElement("div",Mt,ht,gt,bt,st,vt,yt,Ct,kt,Nt)}));Q.displayName="TreeTable"}}]);