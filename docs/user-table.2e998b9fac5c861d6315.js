/*! For license information please see user-table.2e998b9fac5c861d6315.js.LICENSE.txt */
"use strict";(self.webpackChunknicefish_react=self.webpackChunknicefish_react||[]).push([[589],{31764:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var a=r(67294),n=r(28225),l=r(59908),s=r(58650),i=r(99403),c=r(89250),o=r(88843),u=r(49148);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,l,s,i=[],c=!0,o=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=l.call(r)).done)&&(i.push(a.value),i.length!==t);c=!0);}catch(e){o=!0,n=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}const f=function(e){var t=(0,n.$G)().i18n,r=(0,c.s0)(),d=m((0,a.useState)([]),2),f=d[0],p=d[1],b=m((0,a.useState)(0),2),h=b[0],v=b[1],E=m((0,a.useState)(10),2),g=E[0],y=E[1],U=m((0,a.useState)(1),2),N=U[0],w=U[1],R=m((0,a.useState)(0),2),Z=R[0],L=R[1],S=function(){u.Z.getUserTable(N,"").then((function(e){var t,r=e.data;L(r.totalElements),r=(null===(t=r)||void 0===t?void 0:t.content)||[],p(r)}))};return(0,a.useEffect)(S,[]),a.createElement("div",{className:"user-table-container"},a.createElement("form",{className:"form-vertical",role:"form"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-11"},a.createElement("div",{className:"input-group"},a.createElement("input",{name:"searchStr",className:"form-control",type:"text"}),a.createElement("span",{className:"input-group-btn"},a.createElement("button",{className:"btn btn-default",type:"button"},a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}))))),a.createElement("div",{className:"col-md-1"},a.createElement("div",{className:"input-group pull-right"},a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){r("/manage/user-profile/-1")}},a.createElement("i",{className:"pi pi-plus","aria-hidden":"true"})))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"user-item-container"},a.createElement(l.w,{showGridlines:!0,stripedRows:!0,tableStyle:{width:"100%"},value:f,rows:g,first:h,paginator:{totalRecords:Z,onPageChange:function(e){v(e.first),y(e.rows),w(e.page+1)}}},a.createElement(s.s,{field:"userName",header:t.t("user.userName")}),a.createElement(s.s,{field:"nickName",header:t.t("user.nickName")}),a.createElement(s.s,{field:"status",body:function(e){return 0==e.status?a.createElement("span",{className:"label label-danger"},t.t("enabled")):a.createElement("span",{className:"label label-success"},t.t("disabled"))},header:t.t("user.status")}),a.createElement(s.s,{field:"email",header:t.t("user.email")}),a.createElement(s.s,{field:"cellphone",header:t.t("user.mobile")}),a.createElement(s.s,{field:"createTime",header:t.t("user.createTime")}),a.createElement(s.s,{field:"roleEntities",body:function(e){var t;return null==e||null===(t=e.roleEntities)||void 0===t?void 0:t.map((function(e){return a.createElement("h5",{key:e.roleId},a.createElement("span",{className:"label label-success"},e.roleName))}))},header:t.t("user.table.associatedRoles")}),a.createElement(s.s,{field:"",header:t.t("operation"),body:function(e){return a.createElement(a.Fragment,null,a.createElement(i.z,{icon:"pi pi-pencil",className:"p-button-success",onClick:function(){r("/manage/user-profile/".concat(e.userId))}}),"  ",a.createElement(i.z,{icon:"pi pi-trash",className:"p-button-danger",onClick:function(){var r;r=e,(0,o.V)({message:t.t("confirmDelete"),header:t.t("confirm"),icon:"pi pi-exclamation-triangle",accept:function(){u.Z.del(r.userId).then((function(e){niceFishToast({severity:"success",summary:t.t("success"),detail:t.t("success")})}),(function(e){niceFishToast({severity:"error",summary:t.t("error"),detail:t.t("fail")})})).finally(S)},reject:function(){console.log("reject")}})}}))}}))))))}},49148:(e,t,r)=>{r.d(t,{Z:()=>p});var a=r(24065),n=r(96486),l=r(90600),s=l.Z.dataURL.userListURL,i=l.Z.dataURL.delUserURL,c=l.Z.dataURL.userDetailURL,o=l.Z.dataURL.signUpURL,u=l.Z.dataURL.updateUserURL,m=l.Z.dataURL.userMenuListURL,d=l.Z.dataURL.userFollowerCountURL,f=l.Z.dataURL.userFollowingCountURL;const p={getUserTable:function(e,t){var r=n.template(s)({page:e});return a.Z.post(r,{userName:t})},del:function(e){var t=n.template(i)({id:e});return a.Z.delete(t)},getUserDetails:function(e){var t=n.template(c)({id:e});return a.Z.get(t)},getUserFollowerCount:function(e){var t=n.template(d)({userId:e});return a.Z.get(t)},getUserFollowingCount:function(e){var t=n.template(f)({userId:e});return a.Z.get(t)},newUser:function(e){return a.Z.post(o,e)},updateUser:function(e){return a.Z.post(u,e)},getMenuByUser:function(e){var t=n.template(m)({id:e});return a.Z.get(t)}}}}]);