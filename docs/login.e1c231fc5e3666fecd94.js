/*! For license information please see login.e1c231fc5e3666fecd94.js.LICENSE.txt */
"use strict";(self.webpackChunknicefish_react=self.webpackChunknicefish_react||[]).push([[535],{33702:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(67294),n=a(55670),c=a(96974);function l(e){let t={};return e.name?/\w{5,}/.test(e.name)||(t.name="用户名最少为5位"):t.name="用户名为必填",e.pwd?/\w{6,}/.test(e.pwd)||(t.pwd="密码最少为6位"):t.pwd="密码为必填项",t}var r=a(42665),i=a(58405);const o=()=>{const e=(0,r.G2)(i.Z);e.useHome();const t=(0,c.s0)(),[a,o]=(0,s.useState)(""),[u,d]=(0,s.useState)(""),[m,p]=(0,s.useState)({name:"",pwd:""}),[g,f]=(0,s.useState)({}),[b,w]=(0,s.useState)({name:{touched:!1,dirty:!1},pwd:{touched:!1,dirty:!1}}),[h,j]=(0,s.useState)(!1);function v(e,t){switch(e){case"name":w(Object.assign(Object.assign({},b),{[e]:Object.assign(Object.assign({},b[e]),{touched:!0})})),f(l(m)),n.Z.toggleClass(t,o,n.Z.fillClass);break;case"pwd":w(Object.assign(Object.assign({},b),{[e]:Object.assign(Object.assign({},b[e]),{touched:!0})})),f(l(m)),n.Z.toggleClass(t,d,n.Z.fillClass)}}function O(e,t){const a=Object.assign(Object.assign({},m),{[e]:t});switch(e){case"name":w(Object.assign(Object.assign({},b),{[e]:Object.assign(Object.assign({},b[e]),{dirty:!0})}));break;case"pwd":w(Object.assign(Object.assign({},b),{[e]:Object.assign(Object.assign({},b[e]),{dirty:!0})}))}p(a),f(l(a))}return(0,s.useEffect)((()=>{const e=l(m),t=Object.keys(e).some((t=>e[t]));j(t)}),[g]),s.createElement("div",{className:"container d-flex align-items-center login-container"},s.createElement("div",{className:"card login-panel bg-white"},s.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},s.createElement("span",{className:"bg-red pd-5-10px font-size-24"},"魚")),s.createElement("form",{onSubmit:a=>function(a){a.preventDefault(),e.storageService.setKeyValue("user",m.name),t("/home")}(a)},s.createElement("div",{className:"col-12 d-flex  text-white"},s.createElement("span",{className:"inputfiled"},s.createElement("input",{className:`col input-text ${a} ${(b.name.touched||b.name.dirty)&&g.name?"error":""}`,type:"text",autoComplete:"off",value:m.name,onChange:e=>O("name",e.target.value),onBlur:e=>v("name",e.target.value)}),s.createElement("label",null,"Username"),(b.name.touched||b.name.dirty)&&g.name?s.createElement("div",{className:"text-red"},g.name):null)),s.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},s.createElement("span",{className:"inputfiled"},s.createElement("input",{className:`col input-text ${u} ${(b.pwd.touched||b.pwd.dirty)&&g.pwd?"error":""}`,type:"password",value:m.pwd,autoComplete:"off",onBlur:e=>{v("pwd",e.target.value)},onChange:e=>O("pwd",e.target.value)}),s.createElement("label",null,"Password"),(b.pwd.touched||b.pwd.dirty)&&g.pwd?s.createElement("div",{className:"text-red"},g.pwd):null)),s.createElement("div",{className:"col-12 text-white ui-fluid"},s.createElement("button",{className:"btn btn-primary col",disabled:h},"登录"),s.createElement("button",{className:"btn btn-primary col mt-16px",onClick:()=>{t("/forgot")}},"忘记密码")))))}},58405:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(96974),n=a(67294),c=a(90481),l=a(42665),r=a(35169);let i=class extends r.Z{constructor(){super(...arguments),this.storageService=(0,l.G2)(c.Z)}useLogin(){return this.storageService.getKey("user")}useHome(){const e=this.useLogin(),t=(0,s.s0)();(0,n.useEffect)((()=>{e&&t("/")}),[])}};i=function(e,t,a,s){var n,c=arguments.length,l=c<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,a):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,a,s);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(l=(c<3?n(l):c>3?n(t,a,l):n(t,a))||l);return c>3&&l&&Object.defineProperty(t,a,l),l}([(0,l.b2)("AccountService")],i);const o=i},55670:(e,t,a)=>{a.d(t,{Z:()=>s});const s={fillClass:"ui-state-filled",toggleClass:(e,t,a="")=>{t(e?a:"")}}}}]);