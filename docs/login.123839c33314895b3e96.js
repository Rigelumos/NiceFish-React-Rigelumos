/*! For license information please see login.123839c33314895b3e96.js.LICENSE.txt */
"use strict";(self.webpackChunknicefish_react=self.webpackChunknicefish_react||[]).push([[535],{94950:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(67294),s=a(98008),c=a(96974);function l(e){let t={};return e.name?/\w{5,}/.test(e.name)||(t.name="用户名最少为5位"):t.name="用户名为必填",e.pwd?/\w{6,}/.test(e.pwd)||(t.pwd="密码最少为6位"):t.pwd="密码为必填项",t}var i=a(33527),r=a(59986);const o=(0,i.G2)(r.Z),d=()=>{o.useHome();const e=(0,c.s0)(),[t,a]=(0,n.useState)(""),[i,r]=(0,n.useState)(""),[d,u]=(0,n.useState)({name:"",pwd:""}),[m,f]=(0,n.useState)({}),[p,g]=(0,n.useState)({name:{touched:!1,dirty:!1},pwd:{touched:!1,dirty:!1}}),[b,w]=(0,n.useState)(!1);function h(e,t){switch(e){case"name":g(Object.assign(Object.assign({},p),{[e]:Object.assign(Object.assign({},p[e]),{touched:!0})})),f(l(d)),s.Z.toggleClass(t,a,s.Z.fillClass);break;case"pwd":g(Object.assign(Object.assign({},p),{[e]:Object.assign(Object.assign({},p[e]),{touched:!0})})),f(l(d)),s.Z.toggleClass(t,r,s.Z.fillClass)}}function v(e,t){const a=Object.assign(Object.assign({},d),{[e]:t});switch(e){case"name":g(Object.assign(Object.assign({},p),{[e]:Object.assign(Object.assign({},p[e]),{dirty:!0})}));break;case"pwd":g(Object.assign(Object.assign({},p),{[e]:Object.assign(Object.assign({},p[e]),{dirty:!0})}))}u(a),f(l(a))}return(0,n.useEffect)((()=>{const e=l(d),t=Object.keys(e).some((t=>e[t]));w(t)}),[m]),n.createElement("div",{className:"container d-flex align-items-center login-container"},n.createElement("div",{className:"card login-panel bg-white"},n.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},n.createElement("span",{className:"bg-red pd-5-10px font-size-24"},"魚")),n.createElement("form",{onSubmit:t=>function(t){t.preventDefault(),o.storageService.save("user",d.name),e("/home")}(t)},n.createElement("div",{className:"col-12 d-flex  text-white"},n.createElement("span",{className:"inputfiled"},n.createElement("input",{className:`col input-text ${t} ${(p.name.touched||p.name.dirty)&&m.name?"error":""}`,type:"text",autoComplete:"off",value:d.name,onChange:e=>v("name",e.target.value),onBlur:e=>h("name",e.target.value)}),n.createElement("label",null,"Username"),(p.name.touched||p.name.dirty)&&m.name?n.createElement("div",{className:"text-red"},m.name):null)),n.createElement("div",{className:"col-12 d-flex justify-content-center  text-white"},n.createElement("span",{className:"inputfiled"},n.createElement("input",{className:`col input-text ${i} ${(p.pwd.touched||p.pwd.dirty)&&m.pwd?"error":""}`,type:"password",value:d.pwd,autoComplete:"off",onBlur:e=>{h("pwd",e.target.value)},onChange:e=>v("pwd",e.target.value)}),n.createElement("label",null,"Password"),(p.pwd.touched||p.pwd.dirty)&&m.pwd?n.createElement("div",{className:"text-red"},m.pwd):null)),n.createElement("div",{className:"col-12 text-white ui-fluid"},n.createElement("button",{className:"btn btn-primary col",disabled:b},"登录"),n.createElement("button",{className:"btn btn-primary col mt-16px",onClick:()=>{e("/forgot")}},"忘记密码")))))}},59986:(e,t,a)=>{a.d(t,{Z:()=>u});var n,s=a(96974),c=a(67294),l=a(42868),i=a(33527),r=a(20951),o=function(e,t,a,n){var s,c=arguments.length,l=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(s=e[i])&&(l=(c<3?s(l):c>3?s(t,a,l):s(t,a))||l);return c>3&&l&&Object.defineProperty(t,a,l),l};let d=class extends r.Z{useLogin(){return this.storageService.read("user")}useHome(){const e=this.useLogin(),t=(0,s.s0)();(0,c.useEffect)((()=>{e&&t("/")}),[])}};o([(0,i.f3)(),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:type","function"==typeof(n=void 0!==l.Z&&l.Z)?n:Object)],d.prototype,"storageService",void 0),d=o([(0,i.b2)("AccountService")],d);const u=d},98008:(e,t,a)=>{a.d(t,{Z:()=>n});const n={fillClass:"ui-state-filled",toggleClass:(e,t,a="")=>{t(e?a:"")}}}}]);